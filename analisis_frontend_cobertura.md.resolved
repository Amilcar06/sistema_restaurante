# üé® An√°lisis de Cobertura del Frontend - GastroSmart AI

## Resumen Ejecutivo

> [!WARNING]
> **El frontend cubre solo 9 de 22 tablas del backend** (41% de cobertura). Faltan interfaces cr√≠ticas para gesti√≥n completa del sistema, especialmente para historial de precios, √≥rdenes de compra, y sistema de roles/permisos.

---

## üìä Estado Actual de Componentes

### Componentes Principales Implementados

| # | Componente | Archivo | L√≠neas | Estado | Tablas Backend Cubiertas |
|---|-----------|---------|---------|--------|-------------------------|
| 1 | **Dashboard** | [Dashboard.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Dashboard.tsx) | 10,046 | ‚úÖ Completo | Vistas agregadas |
| 2 | **Inventory** | [Inventory.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Inventory.tsx) | 36,075 | ‚úÖ Completo | `inventory_items`, `inventory_movements` |
| 3 | **Recipes** | [Recipes.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Recipes.tsx) | 36,028 | ‚úÖ Completo | `recipes`, `recipe_ingredients` |
| 4 | **Sales** | [Sales.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Sales.tsx) | 26,836 | ‚ö†Ô∏è Parcial | `sales`, `sale_items` |
| 5 | **BusinessLocations** | [BusinessLocations.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/BusinessLocations.tsx) | 12,554 | ‚úÖ Completo | `business_locations` |
| 6 | **Suppliers** | [Suppliers.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Suppliers.tsx) | 15,650 | ‚úÖ Completo | `suppliers` |
| 7 | **Users** | [Users.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Users.tsx) | 14,567 | ‚ö†Ô∏è B√°sico | `users` (sin roles/permisos) |
| 8 | **Promotions** | [Promotions.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Promotions.tsx) | 19,017 | ‚úÖ Completo | `promotions` |
| 9 | **Reports** | [Reports.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Reports.tsx) | 10,925 | ‚úÖ Completo | Reportes agregados |
| 10 | **Settings** | [Settings.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Settings.tsx) | 17,216 | ‚ö†Ô∏è B√°sico | Configuraciones generales |
| 11 | **Chatbot** | [Chatbot.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Chatbot.tsx) | 6,444 | ‚úÖ Completo | `chatbot_logs` |
| 12 | **Login** | [Login.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Login.tsx) | 3,602 | ‚úÖ Completo | Autenticaci√≥n |

---

## üîç An√°lisis Detallado de Cobertura por Tabla

### ‚úÖ M√ìDULO: Configuraci√≥n (3 tablas)

#### 1. `units` - Unidades de Medida
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚ùå **NO EXISTE**
- **Impacto**: üî¥ **CR√çTICO**

**Problema**:
- No hay interfaz para gestionar unidades personalizadas
- No se pueden ver factores de conversi√≥n
- El sistema depende de enums hardcodeados

**Funcionalidad Faltante**:
```typescript
// Deber√≠a poder hacerse desde el frontend:
- Crear nueva unidad: "bolsa 1kg"
- Definir conversiones: 1 bolsa = 1 kg
- Activar/desactivar unidades
- Ver unidades por tipo (peso, volumen, pieza)
```

**Recomendaci√≥n**: 
> [!IMPORTANT]
> Crear componente `Units.tsx` para:
> - CRUD completo de unidades
> - Configurar conversiones autom√°ticas
> - Agrupar por tipo (peso, volumen, pieza, custom)

---

#### 2. `suppliers` - Proveedores
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚úÖ **COMPLETO** ([Suppliers.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Suppliers.tsx))
- **Impacto**: ‚úÖ Funcional

**Funcionalidades Implementadas**:
- ‚úÖ Crear/editar/eliminar proveedores
- ‚úÖ Nombre, contacto, tel√©fono, email
- ‚úÖ Direcci√≥n (address, city, zone)
- ‚úÖ NIT (tax_id)
- ‚úÖ T√©rminos de pago
- ‚úÖ Calificaci√≥n (rating 1-5 estrellas)
- ‚úÖ Estado activo/inactivo
- ‚úÖ Notas adicionales

**Experiencia de Usuario**: ‚≠ê‚≠ê‚≠ê‚≠ê (4/5)
- Formulario completo y bien dise√±ado
- B√∫squeda funcional
- Falta: Comparaci√≥n de precios entre proveedores

---

#### 3. `business_locations` - Sucursales
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚úÖ **COMPLETO** ([BusinessLocations.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/BusinessLocations.tsx))
- **Impacto**: ‚úÖ Funcional

**Funcionalidades Implementadas**:
- ‚úÖ Crear/editar/eliminar sucursales
- ‚úÖ Nombre, direcci√≥n, ciudad, zona
- ‚úÖ Tel√©fono, email
- ‚úÖ Marcar sucursal principal (is_main)
- ‚úÖ Estado activo/inactivo
- ‚úÖ Horarios de apertura (open_hours JSON)

**Experiencia de Usuario**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)
- Interfaz intuitiva
- Switch para sucursal principal
- Soporte multi-sucursal excelente

---

### üì¶ M√ìDULO: Inventario (5 tablas)

#### 4. `inventory_items` - Items de Inventario
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚úÖ **COMPLETO** ([Inventory.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Inventory.tsx))
- **Impacto**: ‚úÖ Funcional

**Funcionalidades Implementadas**:
- ‚úÖ CRUD completo de insumos
- ‚úÖ Nombre, categor√≠a, cantidad, unidad
- ‚úÖ Stock m√≠nimo y m√°ximo
- ‚úÖ Costo por unidad
- ‚úÖ Proveedor (selector + texto libre)
- ‚úÖ Sucursal
- ‚úÖ Fecha de caducidad
- ‚úÖ C√≥digo de barras
- ‚úÖ Alertas de stock cr√≠tico (visual)
- ‚úÖ Filtrado por sucursal
- ‚úÖ B√∫squeda por nombre/categor√≠a
- ‚úÖ Paginaci√≥n (10 items por p√°gina)

**Experiencia de Usuario**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)
- Interfaz muy completa
- Indicadores visuales de estado (cr√≠tico/bajo/bueno)
- Formulario extenso pero bien organizado

---

#### 5. `inventory_cost_history` - Historial de Costos
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚ùå **NO EXISTE**
- **Impacto**: üî¥ **CR√çTICO**

**Problema**:
- No se puede ver historial de precios de un ingrediente
- No se puede comparar precios entre fechas
- No se puede rastrear inflaci√≥n

**Funcionalidad Faltante**:
```typescript
// Usuario NO puede hacer:
- Ver que el arroz cost√≥ 100 Bs en enero y 200 Bs en marzo
- Comparar precios de diferentes proveedores hist√≥ricamente
- Analizar tendencias de costos
- Ver raz√≥n de cambio de precio (compra, ajuste, inflaci√≥n)
```

**Recomendaci√≥n**: 
> [!IMPORTANT]
> Agregar a [Inventory.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Inventory.tsx):
> - Tab adicional "Historial de Precios"
> - Gr√°fico de l√≠nea mostrando evoluci√≥n de costo
> - Tabla con: fecha, costo, proveedor, raz√≥n del cambio
> - Filtrar por item y rango de fechas

---

#### 6. `inventory_movements` - Movimientos de Inventario
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚ö†Ô∏è **PARCIAL** ([Inventory.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Inventory.tsx) - tab History)
- **Impacto**: üü° Funcional pero limitado

**Funcionalidades Implementadas**:
- ‚úÖ Ver historial de movimientos
- ‚úÖ Filtrar por item espec√≠fico
- ‚úÖ Ver tipo de movimiento (ENTRADA, SALIDA, MERMA, etc.)
- ‚úÖ Ver cantidad y costo unitario
- ‚úÖ Ver referencia (ID de venta/compra)

**Funcionalidades Faltantes**:
- ‚ùå **Crear movimientos manuales** (AJUSTE, MERMA, TRANSFERENCIA)
- ‚ùå Transferir entre sucursales desde UI
- ‚ùå Registrar mermas con raz√≥n
- ‚ùå Filtrar por tipo de movimiento
- ‚ùå Filtrar por rango de fechas

**Experiencia de Usuario**: ‚≠ê‚≠ê‚≠ê (3/5)
- Solo lectura, no permite crear
- Falta interactividad para gesti√≥n activa

**Recomendaci√≥n**: 
> [!WARNING]
> Agregar di√°logos para:
> - **Registrar Merma**: seleccionar item, cantidad, raz√≥n
> - **Ajustar Inventario**: correcci√≥n manual con notas
> - **Transferir entre sucursales**: origen, destino, cantidad

---

#### 7. `purchase_orders` - √ìrdenes de Compra
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚ùå **NO EXISTE**
- **Impacto**: üî¥ **CR√çTICO**

**Problema**:
- No hay ciclo completo de compras
- Usuario debe crear inventario manualmente sin orden de compra
- No hay seguimiento de √≥rdenes (pendiente, recibida, cancelada)

**Funcionalidad Faltante**:
```typescript
// Usuario NO puede:
- Crear orden de compra a proveedor
- Agregar items con cantidad y precio
- Cambiar estado: PENDING ‚Üí APPROVED ‚Üí RECEIVED
- Ver √≥rdenes pendientes vs recibidas
- Registrar fecha esperada vs fecha real de entrega
- Al recibir orden, actualizar inventario autom√°ticamente
```

**Recomendaci√≥n**: 
> [!IMPORTANT]
> Crear componente `PurchaseOrders.tsx`:
> - Crear orden: seleccionar proveedor, sucursal, items
> - Dashboard de √≥rdenes con estados
> - Bot√≥n "Recibir Orden" que crea movimientos de ENTRADA
> - Validar cantidades recibidas vs solicitadas

---

#### 8. `purchase_order_items` - Items de √ìrdenes
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚ùå No existe (dependencia de #7)
- **Impacto**: üî¥ Cr√≠tico

---

### üçΩÔ∏è M√ìDULO: Recetas (4 tablas)

#### 9. `recipes` - Recetas
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚úÖ **COMPLETO** ([Recipes.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Recipes.tsx))
- **Impacto**: ‚úÖ Funcional

**Funcionalidades Implementadas**:
- ‚úÖ CRUD completo de recetas
- ‚úÖ Nombre, descripci√≥n, categor√≠a
- ‚úÖ Precio de venta
- ‚úÖ Costo calculado autom√°ticamente
- ‚úÖ Margen calculado autom√°ticamente
- ‚úÖ Tiempo de preparaci√≥n
- ‚úÖ Porciones (servings)
- ‚úÖ Instrucciones
- ‚úÖ Sucursal
- ‚úÖ Disponibilidad (switch)
- ‚úÖ Gesti√≥n de ingredientes (agregar/quitar)
- ‚úÖ Vincular ingredientes a inventario
- ‚úÖ Ingredientes manuales (sin inventario)

**Experiencia de Usuario**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)
- Excelente gesti√≥n de ingredientes
- C√°lculo autom√°tico de costos y m√°rgenes
- Interfaz completa y funcional
- Switch para disponibilidad muy √∫til

---

#### 10. `recipe_ingredients` - Ingredientes de Recetas
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚úÖ **COMPLETO** (integrado en [Recipes.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Recipes.tsx))
- **Impacto**: ‚úÖ Funcional

**Funcionalidades Implementadas**:
- ‚úÖ Agregar ingredientes din√°micamente
- ‚úÖ Vincular con inventory_items (dropdown)
- ‚úÖ Ingredientes manuales (sin vincular)
- ‚úÖ Cantidad y unidad
- ‚úÖ Costo autom√°tico si vinculado
- ‚úÖ Costo manual si no vinculado
- ‚úÖ Eliminar ingredientes

**Experiencia de Usuario**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)

---

#### 11. `recipe_components` - Sub-recetas
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚ùå **NO EXISTE**
- **Impacto**: üü° Deseable

**Problema**:
- No se pueden crear preparaciones intermedias
- Ejemplo: "Anticucho" no puede usar "Salsa para Anticucho" como componente

**Funcionalidad Faltante**:
```typescript
// Usuario NO puede:
- Crear receta "Salsa Anticucho"
- Usarla como ingrediente en "Anticucho de Coraz√≥n"
- Calcular costos anidados
```

**Recomendaci√≥n**: 
> [!NOTE]
> Mejora futura (no cr√≠tica):
> - Agregar selector "Usar otra receta como ingrediente"
> - Calcular costos en cascada

---

#### 12. `recipe_versions` - Versiones de Recetas
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚ùå **NO EXISTE**
- **Impacto**: üü° Deseable

**Problema**:
- No hay historial de cambios de recetas
- Usuario no puede ver versiones anteriores
- No se registra por qu√© cambi√≥ precio o costo

**Funcionalidad Faltante**:
```typescript
// Usuario NO puede:
- Ver historial: v1 (precio 25 Bs) ‚Üí v2 (precio 30 Bs)
- Comparar versiones
- Raz√≥n del cambio: "aumento de carne"
- Restaurar versi√≥n anterior
```

**Recomendaci√≥n**: 
> [!NOTE]
> Agregar a [Recipes.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Recipes.tsx):
> - Tab "Historial de Versiones"
> - Tabla con: versi√≥n, fecha, costo, precio, margen, raz√≥n
> - Bot√≥n "Ver detalles" para comparar ingredientes

---

### üí∞ M√ìDULO: Ventas (4 tablas)

#### 13. `sales` - Ventas
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚ö†Ô∏è **PARCIAL** ([Sales.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Sales.tsx))
- **Impacto**: üü° Funcional pero incompleto

**Funcionalidades Implementadas**:
- ‚úÖ Crear venta con items
- ‚úÖ Calcular subtotal, tax, total
- ‚úÖ M√©todo de pago
- ‚úÖ Sucursal
- ‚úÖ Ver historial de ventas
- ‚úÖ Eliminar venta

**Funcionalidades Faltantes**:
- ‚ùå **N√∫mero de mesa**
- ‚ùå **Mesero** (waiter_id)
- ‚ùå **Tipo de venta** (LOCAL/DELIVERY/TAKEAWAY)
- ‚ùå **Servicio de delivery** (PedidosYa, Ahora)
- ‚ùå **Nombre de cliente**
- ‚ùå **Tel√©fono de cliente**
- ‚ùå **Aplicar promociones**
- ‚ùå **Estado** (COMPLETED, CANCELLED, REFUNDED)

**Experiencia de Usuario**: ‚≠ê‚≠ê‚≠ê (3/5)
- Funcional para venta b√°sica
- Faltan campos cr√≠ticos para restaurantes
- No conecta con recetas (usa texto libre)

**Recomendaci√≥n**: 
> [!WARNING]
> Expandir formulario de venta:
> - Selector de tipo: LOCAL, DELIVERY, TAKEAWAY
> - Si LOCAL: n√∫mero de mesa, mesero
> - Si DELIVERY: servicio, cliente, tel√©fono
> - Selector de recetas (no texto libre)
> - Bot√≥n "Aplicar Promoci√≥n"

---

#### 14. `sale_items` - Items de Venta
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚ö†Ô∏è **PARCIAL** (integrado en [Sales.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Sales.tsx))
- **Impacto**: üü° Funcional pero limitado

**Problema**:
- Items son texto libre, no vinculados a recetas
- No actualiza inventario autom√°ticamente

**Recomendaci√≥n**: 
> [!WARNING]
> Cambiar de Input a Select con recetas disponibles
> - Al seleccionar receta, traer precio autom√°tico
> - Al guardar venta, descontar ingredientes de inventario

---

#### 15. `promotions` - Promociones
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚úÖ **COMPLETO** ([Promotions.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Promotions.tsx))
- **Impacto**: ‚úÖ Funcional

**Funcionalidades Implementadas**:
- ‚úÖ CRUD completo
- ‚úÖ Tipos: percentage, fixed_amount, buy_x_get_y
- ‚úÖ Valor de descuento
- ‚úÖ Compra m√≠nima
- ‚úÖ Descuento m√°ximo
- ‚úÖ Fecha inicio/fin
- ‚úÖ Activo/inactivo
- ‚úÖ Aplicable a: all, recipes, categories, specific_items
- ‚úÖ Sucursal

**Funcionalidades Faltantes**:
- ‚ùå **Aplicar promoci√≥n en Sales** (no conectado)

**Experiencia de Usuario**: ‚≠ê‚≠ê‚≠ê‚≠ê (4/5)
- Componente completo
- Falta integraci√≥n con ventas

---

#### 16. `sale_discounts` - Descuentos Aplicados
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚ùå **NO EXISTE**
- **Impacto**: üü° Dependencia de Sales

**Problema**:
- No se registran descuentos aplicados
- No hay trazabilidad de promociones usadas

---

### üë• M√ìDULO: Usuarios y Seguridad (5 tablas)

#### 17. `users` - Usuarios
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚ö†Ô∏è **B√ÅSICO** ([Users.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Users.tsx))
- **Impacto**: üü° Funcional pero incompleto

**Funcionalidades Implementadas**:
- ‚úÖ CRUD de usuarios
- ‚úÖ Email, username, full_name, phone
- ‚úÖ is_active, is_superuser
- ‚úÖ Sucursal por defecto

**Funcionalidades Faltantes**:
- ‚ùå **Asignar roles** (admin, cook, waiter, cashier)
- ‚ùå **Asignar permisos**
- ‚ùå **Roles por sucursal**
- ‚ùå Ver √∫ltimo acceso (last_login)
- ‚ùå Gesti√≥n de contrase√±as

**Experiencia de Usuario**: ‚≠ê‚≠ê‚≠ê (3/5)
- B√°sico, no gestiona roles
- Cr√≠tico: tu requisito era "Administrador, Cocina, Sala"

**Recomendaci√≥n**: 
> [!IMPORTANT]
> Expandir [Users.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Users.tsx):
> - Selector de roles (multi-select)
> - Tabla de permisos por rol
> - Asignar roles espec√≠ficos por sucursal
> - Ejemplo: Juan es "cook" en Centro, "waiter" en El Alto

---

#### 18. `roles` - Roles del Sistema
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚ùå **NO EXISTE**
- **Impacto**: üî¥ **CR√çTICO**

**Problema**:
- **No hay interfaz para gestionar roles**
- Usuario no puede crear roles personalizados
- No se ven roles existentes (admin, manager, cook, waiter, cashier)

**Funcionalidad Faltante**:
```typescript
// Usuario NO puede:
- Ver roles del sistema
- Crear rol personalizado "Supervisor"
- Editar descripci√≥n de roles
- Marcar roles como "sistema" (no eliminables)
```

**Recomendaci√≥n**: 
> [!IMPORTANT]
> Crear componente `Roles.tsx` o tab en Settings:
> - Lista de roles con descripciones
> - Crear roles personalizados
> - Ver qu√© permisos tiene cada rol

---

#### 19. `permissions` - Permisos
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚ùå **NO EXISTE**
- **Impacto**: üî¥ **CR√çTICO**

**Problema**:
- No hay gesti√≥n de permisos granulares
- Usuario no puede configurar: inventory.create, sales.delete, etc.

**Recomendaci√≥n**: 
> [!IMPORTANT]
> Crear interfaz de permisos:
> - Matriz: Rol √ó Recurso √ó Acci√≥n
> - Ejemplo: "cook" puede "inventory.read" pero NO "inventory.delete"

---

#### 20. `role_permissions` - Asignaci√≥n Rol-Permiso
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚ùå No existe (dependencia de #18 y #19)
- **Impacto**: üî¥ Cr√≠tico

---

#### 21. `user_roles` - Roles de Usuario
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚ùå No existe (dependencia de #17 y #18)
- **Impacto**: üî¥ Cr√≠tico

---

### ü§ñ M√ìDULO: IA (1 tabla)

#### 22. `chatbot_logs` - Logs del Chatbot
- **Backend**: ‚úÖ Implementado
- **Frontend**: ‚úÖ **COMPLETO** ([Chatbot.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Chatbot.tsx))
- **Impacto**: ‚úÖ Funcional

**Funcionalidades Implementadas**:
- ‚úÖ Enviar mensajes
- ‚úÖ Recibir respuestas de IA
- ‚úÖ Historial de conversaci√≥n

**Experiencia de Usuario**: ‚≠ê‚≠ê‚≠ê‚≠ê (4/5)

---

## üìà Resumen de Cobertura

### Por M√≥dulo

| M√≥dulo | Total Tablas | Implementado | Parcial | Faltante | % Completo |
|--------|--------------|--------------|---------|----------|------------|
| **Configuraci√≥n** | 3 | 2 | 0 | 1 | 67% |
| **Inventario** | 5 | 1 | 1 | 3 | 20% |
| **Recetas** | 4 | 2 | 0 | 2 | 50% |
| **Ventas** | 4 | 1 | 2 | 1 | 25% |
| **Usuarios** | 5 | 0 | 1 | 4 | 0% |
| **IA** | 1 | 1 | 0 | 0 | 100% |
| **TOTAL** | **22** | **7** | **4** | **11** | **32%** |

### Tabla Resumen Completa

| # | Tabla Backend | Frontend | Estado | Componente | Prioridad |
|---|---------------|----------|--------|-----------|-----------|
| 1 | users | ‚ö†Ô∏è Parcial | B√°sico sin roles | Users.tsx | üî¥ Alta |
| 2 | roles | ‚ùå No | - | - | üî¥ Alta |
| 3 | permissions | ‚ùå No | - | - | üî¥ Alta |
| 4 | role_permissions | ‚ùå No | - | - | üî¥ Alta |
| 5 | user_roles | ‚ùå No | - | - | üî¥ Alta |
| 6 | units | ‚ùå No | - | - | üü° Media |
| 7 | suppliers | ‚úÖ S√≠ | Completo | Suppliers.tsx | ‚úÖ OK |
| 8 | business_locations | ‚úÖ S√≠ | Completo | BusinessLocations.tsx | ‚úÖ OK |
| 9 | inventory_items | ‚úÖ S√≠ | Completo | Inventory.tsx | ‚úÖ OK |
| 10 | inventory_cost_history | ‚ùå No | - | - | üî¥ Alta |
| 11 | inventory_movements | ‚ö†Ô∏è Parcial | Solo lectura | Inventory.tsx (tab) | üü° Media |
| 12 | purchase_orders | ‚ùå No | - | - | üî¥ Alta |
| 13 | purchase_order_items | ‚ùå No | - | - | üî¥ Alta |
| 14 | recipes | ‚úÖ S√≠ | Completo | Recipes.tsx | ‚úÖ OK |
| 15 | recipe_ingredients | ‚úÖ S√≠ | Completo | Recipes.tsx | ‚úÖ OK |
| 16 | recipe_components | ‚ùå No | - | - | üü¢ Baja |
| 17 | recipe_versions | ‚ùå No | - | - | üü° Media |
| 18 | sales | ‚ö†Ô∏è Parcial | Campos faltantes | Sales.tsx | üü° Media |
| 19 | sale_items | ‚ö†Ô∏è Parcial | No vincula recetas | Sales.tsx | üü° Media |
| 20 | promotions | ‚úÖ S√≠ | Completo | Promotions.tsx | ‚úÖ OK |
| 21 | sale_discounts | ‚ùå No | - | - | üü° Media |
| 22 | chatbot_logs | ‚úÖ S√≠ | Completo | Chatbot.tsx | ‚úÖ OK |

---

## üéØ Evaluaci√≥n de Experiencia de Usuario (UX)

### 1. Flujo de Onboarding (Primera Vez)

**Escenario**: Usuario nuevo crea cuenta y configura sistema

**Flujo Actual**:
```
1. Register ‚Üí Login
2. ¬øAhora qu√©?
3. Usuario debe descubrir:
   - Crear sucursales
   - Crear proveedores
   - Agregar insumos
   - Crear recetas
   - Registrar ventas
```

**Problemas**:
- ‚ùå No hay wizard de configuraci√≥n inicial
- ‚ùå No se solicita informaci√≥n del restaurante
- ‚ùå No se crea autom√°ticamente primera sucursal
- ‚ùå Usuario no tiene rol asignado autom√°ticamente

**Recomendaci√≥n**:
> [!IMPORTANT]
> Crear `OnboardingWizard.tsx`:
> ```
> Paso 1: Datos del Restaurante
> - Nombre
> - Direcci√≥n
> - Tel√©fono
> 
> Paso 2: Primera Sucursal
> - Nombre (ej: "Sucursal Centro")
> - Marcar como principal
> 
> Paso 3: Configura Roles
> - Asignar al usuario como "admin"
> 
> Paso 4: Tutorial R√°pido
> - "Ahora puedes agregar insumos, recetas y ventas"
> ```

**Rating UX**: ‚≠ê‚≠ê (2/5)

---

### 2. Gesti√≥n Multi-Sucursal

**Escenario**: Restaurante con 3 sucursales

**Funcionalidades Actuales**:
- ‚úÖ Crear sucursales f√°cilmente
- ‚úÖ Filtrar inventario por sucursal
- ‚úÖ Ventas por sucursal
- ‚úÖ Recetas por sucursal

**Problemas**:
- ‚ùå No hay selector global de sucursal
- ‚ùå Usuario debe elegir en cada formulario
- ‚ùå No hay transferencias entre sucursales desde UI

**Recomendaci√≥n**:
> [!NOTE]
> Agregar selector global en navbar:
> ```tsx
> <Select defaultValue={currentLocation}>
>   <SelectItem value="all">Todas las Sucursales</SelectItem>
>   <SelectItem value="centro">Sucursal Centro</SelectItem>
>   <SelectItem value="elalto">Sucursal El Alto</SelectItem>
> </Select>
> ```

**Rating UX**: ‚≠ê‚≠ê‚≠ê‚≠ê (4/5)

---

### 3. Gesti√≥n de Inventario

**Funcionalidades**:
- ‚úÖ Agregar insumos con formulario completo
- ‚úÖ Alertas visuales de stock cr√≠tico
- ‚úÖ Historial de movimientos (lectura)
- ‚úÖ B√∫squeda y filtros
- ‚úÖ Paginaci√≥n

**Problemas**:
- ‚ùå No se pueden crear movimientos manuales
- ‚ùå No hay vista de "Historial de Precios" del insumo
- ‚ùå No se puede comparar precios de proveedores

**Rating UX**: ‚≠ê‚≠ê‚≠ê‚≠ê (4/5)

---

### 4. Creaci√≥n de Recetas

**Funcionalidades**:
- ‚úÖ Agregar ingredientes din√°micamente
- ‚úÖ Vincular con inventario o manual
- ‚úÖ C√°lculo autom√°tico de costo
- ‚úÖ C√°lculo autom√°tico de margen
- ‚úÖ Switch de disponibilidad

**Problemas**:
- ‚ùå No se pueden usar sub-recetas
- ‚ùå No hay historial de versiones

**Rating UX**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)

---

### 5. Registro de Ventas

**Funcionalidades**:
- ‚úÖ Agregar items
- ‚úÖ Calcular totales
- ‚úÖ M√©todo de pago

**Problemas**:
- ‚ùå Items son texto libre (no recetas)
- ‚ùå No hay mesa/mesero
- ‚ùå No hay tipo de venta (local/delivery)
- ‚ùå No aplica promociones
- ‚ùå No descuenta inventario autom√°ticamente

**Rating UX**: ‚≠ê‚≠ê (2/5)

---

### 6. Sistema de Roles y Permisos

**Funcionalidades**:
- ‚ö†Ô∏è B√°sico en Users.tsx (is_superuser)

**Problemas**:
- ‚ùå **No existe interfaz**
- ‚ùå Usuario no puede asignar roles
- ‚ùå No hay permisos granulares desde UI

**Rating UX**: ‚≠ê (1/5) - Cr√≠tico

---

### 7. Reportes y An√°lisis

**Funcionalidades**:
- ‚úÖ Reportes visuales con gr√°ficos
- ‚úÖ Exportar a CSV/JSON

**Rating UX**: ‚≠ê‚≠ê‚≠ê‚≠ê (4/5)

---

## üö® Funcionalidades Cr√≠ticas Faltantes

### Prioridad üî¥ ALTA (Bloqueantes)

#### 1. **Sistema de Roles y Permisos**
```
Tu requisito: "Administraci√≥n, Cocina, Sala (Mesero)"
Estado: NO IMPLEMENTADO

Necesitas:
- Componente para gestionar roles
- Asignar permisos a roles
- Asignar roles a usuarios
- Roles por sucursal

Sin esto, NO puedes:
- Restringir acceso por tipo de usuario
- Cocina solo ve inventario/recetas
- Sala solo registra ventas
```

#### 2. **Historial de Precios de Ingredientes**
```
Tu requisito: "Arroz 100 Bs ‚Üí 200 Bs, ver historial"
Estado: NO IMPLEMENTADO

Necesitas:
- Vista de historial de costos
- Gr√°fico de evoluci√≥n de precios
- Comparaci√≥n entre proveedores

Sin esto, NO puedes:
- Ver cu√°ndo fue m√°s barato
- Analizar inflaci√≥n
- Justificar aumento de precio de platos
```

#### 3. **√ìrdenes de Compra**
```
Tu requisito: "Compras se realizan por sucursal"
Estado: NO IMPLEMENTADO

Necesitas:
- Crear √≥rdenes a proveedores
- Seguimiento de √≥rdenes
- Al recibir, actualizar inventario

Sin esto, NO puedes:
- Flujo completo de compras
- Estad√≠sticas de compras mensuales
- Comparar precios de proveedores
```

#### 4. **Registro de Mermas Manual**
```
Tu requisito: "Registrar mermas (ingredientes desperdiciados)"
Estado: PARCIAL (solo lectura)

Necesitas:
- Bot√≥n "Registrar Merma"
- Seleccionar item, cantidad, raz√≥n
- Actualizar inventario

Sin esto, NO puedes:
- Documentar p√©rdidas
- Analizar mermas por per√≠odo
```

---

### Prioridad üü° MEDIA (Importantes)

#### 5. **Ventas con Recetas Vinculadas**
```
Problema: Items en Sale.tsx son texto libre
Soluci√≥n: Selector de recetas

Impacto:
- Al vender, descuenta ingredientes autom√°ticamente
- Reportes de platos m√°s vendidos
- Control de inventario real
```

#### 6. **Unidades de Medida Personalizadas**
```
Problema: Unidades hardcodeadas en enums
Soluci√≥n: Componente Units.tsx

Impacto:
- Crear "bolsa 1kg", "paquete 500g"
- Conversiones autom√°ticas
```

#### 7. **Versiones de Recetas**
```
Problema: No hay historial de cambios
Soluci√≥n: Tab en Recipes.tsx

Impacto:
- Ver evoluci√≥n de costos
- Raz√≥n de cambios (aumento de ingrediente)
```

---

### Prioridad üü¢ BAJA (Mejoras)

#### 8. **Sub-recetas (Recipe Components)**
```
Nice to have: Salsa como ingrediente de Anticucho
```

#### 9. **Descuentos Aplicados (Sale Discounts)**
```
Trazabilidad: Qu√© promoci√≥n se us√≥ en cada venta
```

---

## ‚úÖ Recomendaciones Finales

### Desarrollo Inmediato

> [!IMPORTANT]
> **Estas 4 funcionalidades son CR√çTICAS para tu caso de uso:**

1. **Sistema de Roles** (`Roles.tsx` + expandir [Users.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Users.tsx))
   - Admin: acceso total
   - Cocina: solo inventario + recetas
   - Sala: solo ventas
   - Por sucursal

2. **Historial de Precios** (Tab en [Inventory.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Inventory.tsx))
   - Gr√°fico de evoluci√≥n
   - Tabla de cambios con proveedor

3. **√ìrdenes de Compra** (`PurchaseOrders.tsx`)
   - Crear orden
   - Recibir orden ‚Üí actualizar inventario
   - Estad√≠sticas mensuales

4. **Registro de Mermas** (Dialog en [Inventory.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Inventory.tsx))
   - Bot√≥n "Registrar Merma/Ajuste"
   - Formulario simple: item, cantidad, raz√≥n

---

### Mejoras de UX

1. **Onboarding Wizard** (primera configuraci√≥n)
2. **Selector global de sucursal** (navbar)
3. **Vincular Sales con Recipes** (cambiar input a select)
4. **Aplicar promociones en ventas** (bot√≥n en Sales.tsx)

---

### Tabla de Priorizaci√≥n de Desarrollo

| Funcionalidad | Componente | Prioridad | Esfuerzo | Impacto | Orden |
|---------------|-----------|-----------|----------|---------|-------|
| Roles y Permisos | `Roles.tsx` | üî¥ Alta | Alto | Cr√≠tico | 1 |
| Expandir Users | [Users.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Users.tsx) | üî¥ Alta | Medio | Cr√≠tico | 2 |
| Historial Precios | Tab en [Inventory.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Inventory.tsx) | üî¥ Alta | Medio | Alto | 3 |
| √ìrdenes Compra | `PurchaseOrders.tsx` | üî¥ Alta | Alto | Alto | 4 |
| Registro Mermas | Dialog en [Inventory.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Inventory.tsx) | üî¥ Alta | Bajo | Alto | 5 |
| Vincular Sales-Recipes | Modificar [Sales.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Sales.tsx) | üü° Media | Medio | Alto | 6 |
| Unidades Custom | `Units.tsx` | üü° Media | Medio | Medio | 7 |
| Versiones Recetas | Tab en [Recipes.tsx](file:///Users/amilcaryujra/Desktop/INNOVA/GastroSmart%20AI%20Project%20Overview/frontend/src/components/Recipes.tsx) | üü° Media | Medio | Medio | 8 |
| Onboarding | `OnboardingWizard.tsx` | üü° Media | Alto | Alto | 9 |

---

## üìù Conclusi√≥n

**Cobertura Actual**: 32% de funcionalidad completa (7 de 22 tablas)

**Estado General**:
- ‚úÖ **Fortalezas**: Inventario, Recetas, Sucursales muy bien implementados
- ‚ö†Ô∏è **D√©bil**: Ventas incompletas, sin roles/permisos
- ‚ùå **Faltante**: √ìrdenes de compra, historial de precios, sistema de roles

**Para tu Caso de Uso Espec√≠fico**:
- ‚ùå **No puedes asignar roles** (Administraci√≥n, Cocina, Sala)
- ‚ùå **No puedes ver historial de precios** (arroz 100 ‚Üí 200 Bs)
- ‚ùå **No puedes registrar mermas manualmente**
- ‚ö†Ô∏è **Ventas no actualizan inventario autom√°ticamente**

**Pr√≥ximos Pasos Sugeridos**:
1. Implementar sistema de roles (d√≠as 1-5)
2. Agregar historial de precios (d√≠as 6-8)
3. Crear m√≥dulo de √≥rdenes de compra (d√≠as 9-15)
4. Mejorar interfaz de ventas (d√≠as 16-20)
5. Agregar registro de mermas (d√≠a 21)

**Total Estimado**: ~4 semanas para funcionalidad completa seg√∫n tu visi√≥n.
